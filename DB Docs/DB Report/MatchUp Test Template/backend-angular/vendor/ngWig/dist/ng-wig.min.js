"function"!=typeof angular.element.prototype.outerHeight&&(angular.element.prototype.outerHeight=function(){function t(t){return"px"===t.slice(-2)?parseFloat(t.slice(0,-2)):0}var n,e=!1,o=this.eq(0),i=o[0];return arguments[0]===!0||arguments[0]===!1||void 0===arguments[0]?o.length?(e=arguments[0]&&!0||!1,n=i.outerHeight?i.outerHeight:i.offsetHeight,e&&(n+=t(o.css("marginTop"))+t(o.css("marginBottom"))),n):0:o.length?(n=parseFloat(arguments[0]),e=arguments[1]&&!0||!1,e&&(n-=t(o.css("marginTop"))+t(o.css("marginBottom"))),n-=t(o.css("borderTopWidth"))+t(o.css("borderBottomWidth"))+t(o.css("paddingTop"))+t(o.css("paddingBottom")),o.css("height",n+"px"),this):this}),angular.module("ngWig",["ngwig-app-templates"]),angular.module("ngWig").directive("ngWig",function(){return{scope:{content:"=ngWig",debug:"&",cssPath:"@"},restrict:"A",replace:!0,templateUrl:"ng-wig/views/ng-wig.html",link:function(t,n,e){t.originalHeight=n.outerHeight(),t.editMode=!1,t.autoexpand=!("autoexpand"in e)||"off"!==e.autoexpand,t.cssPath=t.cssPath?t.cssPath:"css/ng-wig.css",t.toggleEditMode=function(){t.editMode=!t.editMode},t.execCommand=function(n,e){"createlink"===n&&(e=prompt("Please enter the URL","http://")),t.$emit("execCommand",{command:n,options:e})},t.resizeEditor=function(t){var e=n.children();for(var o in e){var i=e.eq(o);if(i.hasClass("nw-editor")){i.outerHeight(t);break}}}}}}),angular.module("ngWig").directive("ngWigEditable",function(){function t(t,n,e,o){function i(){if(t.autoexpand)n=angular.element(l.documentElement).outerHeight();else var n=t.originalHeight;t.resizeEditor(n)}var a,l=n[0].contentDocument;l.open(),l.write("<!DOCTYPE html><html><head>"+(t.cssPath?'<link href="'+t.cssPath+'" rel="stylesheet" type="text/css">':"")+'</head><body contenteditable="true"></body></html>'),l.close(),a=angular.element(n[0].contentDocument.body),o.$render=function(){a[0].innerHTML=o.$viewValue||""},a.bind("blur keyup change paste",function(){i(),t.$apply(function(){o.$setViewValue(a.html())})}),t.$on("execCommand",function(n,e){var s=l.selection,r=e.command,c=e.options;if(s){var u=s.createRange();l.execCommand(r,!1,c),u.collapse(!1),u.select()}else l.execCommand(r,!1,c);l.body.focus(),t.$evalAsync(function(){o.$setViewValue(a.html()),i()})}),t.$watch("autoexpand",i),t.$watch("editMode",function(t,n){n&&i()})}return{restrict:"A",require:"ngModel",replace:!0,link:t}}),angular.module("ngwig-app-templates",["ng-wig/views/ng-wig.html"]),angular.module("ng-wig/views/ng-wig.html",[]).run(["$templateCache",function(t){t.put("ng-wig/views/ng-wig.html",'<div class="ng-wig">\n  <ul class="nw-toolbar">\n    <li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--header-one" title="Header" ng-click="execCommand(\'formatblock\', \'<h1>\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--paragraph" title="Paragraph" ng-click="execCommand(\'formatblock\', \'<p>\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--unordered-list" title="Unordered List" ng-click="execCommand(\'insertunorderedlist\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--ordered-list" title="Ordered List" ng-click="execCommand(\'insertorderedlist\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--bold" title="Bold" ng-click="execCommand(\'bold\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--italic" title="Italic" ng-click="execCommand(\'italic\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--link" title="link" ng-click="execCommand(\'createlink\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--source" ng-class="{ \'nw-button--active\': editMode }" ng-click="toggleEditMode()"></button>\n    </li>\n  </ul>\n\n  <div class="nw-editor">\n    <textarea class="nw-editor__src" ng-show="editMode" ng-model="content"></textarea>\n    <iframe scrolling="{{ autoexpand ? \'no\' : \'yes\' }}" class="nw-editor__res" frameBorder="0" ng-hide="editMode" ng-model="content" ng-wig-editable></iframe>\n  </div>\n</div>\n')}]);